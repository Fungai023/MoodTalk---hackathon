<!-- Loader that can be triggered using startLoading() and stopLoading() actions -->
<div
  class="position-fixed w-100 h-100 top-0 left-0 align-items-center justify-content-center logo-overlay"
  [style.display]="isLoading ? 'flex' : 'none'">
  <img [src]="companyLogo" alt="logo" width="120px" />
</div>

<div class="top-nav position-fixed top-0 start-0 w-100 bg-white d-flex flex-row gap-5 px-4 align-items-center border-bottom">
  <img [src]="companyLogo" alt="logo" height="55%" />
  <div class="d-flex flex-row flex-grow-1 h-100 gap-0"></div>
  <div class="d-flex d-md-none">
    <i class="bi bi-list fs-l cursor-pointer" (click)="openMobileNav(mobilenav)"></i>
  </div>
  <div class="d-none d-md-inline-block">
    <app-user-navigation></app-user-navigation>
  </div>
</div>

<aside>
  <nav class="side-nav position-fixed bg-white d-none d-md-flex flex-column py-3 overflow-auto" *ngIf="user">
    <app-navigation style="display: contents"></app-navigation>
  </nav>
</aside>

<main id="print-content" class="d-flex flex-nowrap bg-gray-50">
  <section class="d-flex flex-column flex-grow-1">
    <div class="position-relative p-5">
      <router-outlet></router-outlet>
    </div>
  </section>
</main>

<ng-template #mobilenav let-offcanvas>
  <nav class="offcanvas-body p-0 d-flex flex-column flex-shrink-0 dvh-100 d-print-none" *ngIf="user">
    <div class="offcanvas-header position-absolute top-0 end-0" ngbAutofocus>
      <button type="button" class="btn-close" aria-label="Close" (click)="offcanvas.dismiss()"></button>
    </div>
    <div class="mt-3 ms-2">
      <app-user-navigation placement="bottom-start"></app-user-navigation>
    </div>
    <app-navigation (navItemClicked)="offcanvas.dismiss()" style="display: contents"></app-navigation>
  </nav>
</ng-template>

<app-toasts aria-live="polite" aria-atomic="true"></app-toasts>
